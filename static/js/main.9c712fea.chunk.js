(this.webpackJsonpweatherstation=this.webpackJsonpweatherstation||[]).push([[0],{12:function(e,t,n){e.exports=n(20)},17:function(e,t,n){},18:function(e,t,n){},20:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),o=n(9),c=n.n(o),r=(n(17),n(18),n(6)),l=n(11),s=n(5),u=n(3),d=n.n(u),f=n(10),p=n.n(f);n(8)(d.a),n(19)(d.a);var h=6e4*(new Date).getTimezoneOffset(),m=function(e,t){return e.map((function(e){return[(n=e.created_at,Date.UTC(parseInt(n.substring(0,4)),parseInt(n.substring(5,7))-1,parseInt(n.substring(8,10)),parseInt(n.substring(11,13)),parseInt(n.substring(14,16)),parseInt(n.substring(17,19)))-h),parseFloat(e[t])];var n}))},v=function(e,t){if(e){var n=e[t].indexOf(" (");return n>0?e[t].substr(0,n):e[t]}},x=function(e,t){if(e){var n=e[t].indexOf(" (");if(!(n<0)){var a=e[t].indexOf(")",n+2);return a>0?e[t].substr(n+2,a-n-2):void 0}}},b=function(e){var t,n,o=Object(a.useState)([]),c=Object(s.a)(o,2),u=c[0],f=c[1],h=Object(a.useState)(),b=Object(s.a)(h,2),y=b[0],g=b[1];return Object(a.useEffect)((function(){var t="https://api.thingspeak.com/channels/".concat(e.channelId,"/feed.json?round=").concat(e.rounding,"&results=").concat(2880,"&api_key=").concat(e.apiKey,"&_=").concat(Date.now());fetch(t).then((function(e){return e.json()})).then((function(e){var t=e.feeds,n=e.channel;f(t),g(n)}))}),[e.channelId,e.rounding,e.apiKey]),t=function(){var t="https://api.thingspeak.com/channels/".concat(e.channelId,"/feed/last.json?round=").concat(e.rounding,"&api_key=").concat(e.apiKey,"&location=false&_=").concat(Date.now());fetch(t).then((function(e){return e.json()})).then((function(e){y&&e.entry_id>y.last_entry_id&&(f([].concat(Object(l.a)(u),[e])),g(Object(r.a)(Object(r.a)({},y),{},{updated_at:e.created_at,last_entry_id:e.entry_id})))}))},n=3e4,Object(a.useEffect)((function(){var e=setInterval(t,n);return function(){clearInterval(e)}}),[t,n]),y?i.a.createElement(p.a,{highcharts:d.a,allowChartUpdate:!0,containerProps:{style:{height:"600px"}},options:{title:null===y||void 0===y?void 0:y.name,colors:["#7cb5ec","#492970","#90ed7d","#f7a35c","#8085e9","#f15c80","#e4d354","#2b908f","#f45b5b","#91e8e1"],chart:{type:"spline",zoomType:"xy",events:{load:function(){}}},rangeSelector:{enabled:!0,buttons:[{count:30,type:"minute",text:"30M"},{count:2,type:"hour",text:"2H"},{count:6,type:"hour",text:"6H"},{count:12,type:"hour",text:"12H"},{count:1,type:"day",text:"D"},{count:1,type:"week",text:"W"},{count:1,type:"month",text:"M"},{count:1,type:"year",text:"Y"},{type:"all",text:"All"}],inputEnabled:!0,selected:4},plotOptions:{line:{gapSize:5},series:{marker:{radius:2},animation:!0,step:!1,turboThrehold:1e3,borderWidth:0}},xAxis:{type:"datetime",title:{text:"Time"}},yAxis:[{id:"T",title:{text:null===y||void 0===y?void 0:y.field1},opposite:!1,lineWidth:1,min:5,max:30,labels:{format:"{value:.2f}"}},{id:"H",title:{text:null===y||void 0===y?void 0:y.field2},opposite:!0,lineWidth:1,min:0,max:100,labels:{format:"{value:.2f}"}},{id:"P",title:{text:null===y||void 0===y?void 0:y.field3},opposite:!0,lineWidth:1,min:972,max:1032,labels:{format:"{value:.2f}"}}],exporting:{enabled:!0,csv:{dateFormat:"%d/%m/%Y %I:%M:%S %p"},allowHTML:!0,buttons:{contextButton:{menuItems:["viewFullscreen"]}}},legend:{enabled:!!y},navigator:{baseSeries:0,series:{includeInCSVExport:!1}},tooltip:{crosshairs:[!0,!1]},series:[{index:0,yAxis:"T",name:v(y,"field1"),data:m(u,"field1"),tooltip:{valueDecimals:2,valueSuffix:" ".concat(x(y,"field1"))}},{index:1,yAxis:"H",name:v(y,"field2"),data:m(u,"field2"),tooltip:{valueDecimals:1,valueSuffix:" ".concat(x(y,"field2"))}},{index:2,yAxis:"P",name:v(y,"field3"),data:m(u,"field3"),tooltip:{valueDecimals:1,valueSuffix:" ".concat(x(y,"field3"))}}]}}):i.a.createElement("div",{className:"please-wait"},"Loading: please wait...")},y=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(b,{apiKey:"XXXX",channelId:164534,rounding:3}))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(i.a.createElement(i.a.StrictMode,null,i.a.createElement(y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[12,1,2]]]);
//# sourceMappingURL=main.9c712fea.chunk.js.map